<!DOCTYPE html>
<html lang="zh-CN">

<head>
        <link rel="canonical" href="https://clashvergerev.github.io/news/article-35634.htm" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Vue+Django前后端实例1</title>
        <meta name="description" content="后端： python manage.py startapp block 创建APP，并在settings的INSATLLED_APP中添加'block'。 block目录下创建models.py fr" />
        <link rel="icon" href="/assets/website/img/clashvergerev/favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" href="/assets/website/css/clashvergerev/bootstrap-4.5.0.min.css">
    <link rel="stylesheet" href="/assets/website/css/clashvergerev/animate.css">
    <link rel="stylesheet" href="/assets/website/css/clashvergerev/LineIcons.2.0.css">
    <link rel="stylesheet" href="/assets/website/css/clashvergerev/owl.carousel.2.3.4.min.css">
    <link rel="stylesheet" href="/assets/website/css/clashvergerev/owl.theme.css">
    <link rel="stylesheet" href="/assets/website/css/clashvergerev/magnific-popup.css">
    <link rel="stylesheet" href="/assets/website/css/clashvergerev/nivo-lightbox.css">
    <link rel="stylesheet" href="/assets/website/css/clashvergerev/main.css">
    <link rel="stylesheet" href="/assets/website/css/clashvergerev/responsive.css">
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-T6B4E54XZZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-T6B4E54XZZ');
</script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3332997411212854"
     crossorigin="anonymous"></script>
</head>

<body data-page="detail">
    <header class="blog-hero-area">
                <div class="overlay">
            <span></span>
            <span></span>
        </div>
        <div class="navbar-area">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <nav class="navbar navbar-expand-lg">
                                                        <a class="navbar-brand" href="/">
                                Clash Verge Rev
                            </a>
                                                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="toggler-icon"></span>
                                <span class="toggler-icon"></span>
                                <span class="toggler-icon"></span>
                            </button>
                            <div class="collapse navbar-collapse sub-menu-bar" id="navbarSupportedContent">
                                <ul id="nav" class="navbar-nav ml-auto">
                                                                        <li class="nav-item">
                                        <a href="/">首页</a>
                                    </li>
                                                                        <li class="nav-item">
                                        <a href="/free-nodes/">免费节点</a>
                                    </li>
                                                                        <li class="nav-item">
                                        <a href="/paid-subscribe/">推荐机场</a>
                                    </li>
                                                                        <li class="nav-item">
                                        <a href="/news/">新闻资讯</a>
                                    </li>
                                                                        <li class="nav-item">
                                        <a href="#">关于</a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="#">联系</a>
                                    </li>
                                </ul>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
        <div id="home">
            <div class="container">
                <div class="row justify-content-lg-center">
                    <div class="col-lg-10">
                        <div class="contents text-center">
                            <h1>Vue+Django前后端实例1</h1>
                            <div class="post-meta">
                                <a href="/">首页</a> / <a href="/news/">新闻资讯</a> / <span>正文</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <section id="business-plan">
        <div class="container pt-5">
            <div class="row">
                <div class="col-md-9">
                                    <input type="hidden" id="share-website-info" data-name="" data-url="">
                  				  				  				<div id="content_views" class="htmledit_views"> <p><strong>后端：</strong></p> <p>python manage.py startapp block 创建APP，并在settings的INSATLLED_APP中添加'block'。</p> <p>block目录下创建models.py</p> <pre><code class="language-python">from django.db import models  # Create your models here. # models.py  class Blog(models.Model):     title = models.CharField(max_length=50)     content = models.CharField(max_length=500)      # 自定义表名     class Meta:         db_table = "t_blog"</code></pre> <p>与数据库连接</p> <p>python manage.py makemigrations</p> <p>python manage.py migeate</p> <p>终端打开python manage.py shell</p> <p>手动添加数据</p> <p>from block.models import Blog</p> <p>Blog.objects.create("title="b1", content="b1 content")</p> <p>Blog.objects.create("title="b1", content="b1 content")</p> <p>查询目前添加的数据 Blog.objects.all()</p> <p>退出exit()</p> <p>使用rest_framework, pip install djangorestframework安装包</p> <p>settings的INSATLLED_APP中添加'rest_framework'</p> <p>block目录下创建serializers.py</p> <pre><code class="language-python">#serializers.py from rest_framework import serializers from .models import Blog   class BlogSerializer(serializers.HyperlinkedModelSerializer):     class Meta:         model = Blog  # 序列化的对象名         fields = '__all__'  # 序列化的字段名，或者指定字段 fields = ("id","name","age")</code></pre> <p>block目录下创建views.py</p> <pre><code class="language-python">#views.py from rest_framework import viewsets from .models import Blog from .serializers import BlogSerializer   class BlogViewSet(viewsets.ModelViewSet):     queryset = Blog.objects.all()     serializer_class = BlogSerializer</code></pre> <p>配置路由</p> <p>crude目录下urls.py文件</p> <pre><code class="language-python">#urls.py from django.contrib import admin from django.urls import path, include from rest_framework import routers from block.views import BlogViewSet  router = routers.DefaultRouter() router.register('blog', BlogViewSet)  urlpatterns = [     path('admin/', admin.site.urls),     path('', include(router.urls)) ]</code></pre> <p>解决跨域问题</p> <p>pip install django-cors-headers</p> <p>在settings.py中做如下修改</p> <pre><code class="language-python">INSTALLED_APPS = [     'django.contrib.admin',     'django.contrib.auth',     'django.contrib.contenttypes',     'django.contrib.sessions',     'django.contrib.messages',     'django.contrib.staticfiles',     'rest_framework',     'corsheaders',     'block', ]</code></pre> <pre><code class="language-python">MIDDLEWARE = [     'django.middleware.security.SecurityMiddleware',     'django.contrib.sessions.middleware.SessionMiddleware',     'corsheaders.middleware.CorsMiddleware',     'django.middleware.common.CommonMiddleware',     'django.middleware.csrf.CsrfViewMiddleware',     'django.contrib.auth.middleware.AuthenticationMiddleware',     'django.contrib.messages.middleware.MessageMiddleware',     'django.middleware.clickjacking.XFrameOptionsMiddleware', ]</code></pre> <pre><code>CORS_ORIGIN_ALLOW_ALL = True CORS_ALLOW_CREDENTIALS = True</code></pre> <p>最后文件构成为</p> <p><img fetchpriority="high" decoding="async" alt="" height="318" src="http://img.555519.xyz/uploads3/20220707/2e392f41cd539532d6230bf07bb57b09.jpg"></p> <p><strong>前端</strong></p> <p>vue init webpack crude创建vue项目</p> <p>index.html</p> <pre><code class="language-html">&lt;!DOCTYPE html&gt; &lt;html&gt;   &lt;head&gt;     &lt;meta charset="utf-8"&gt;     &lt;meta name="viewport" content="width=device-width,initial-scale=1.0"&gt;     &lt;link  href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"&gt;     &lt;link  href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css"&gt;     &lt;title&gt;crude&lt;/title&gt;   &lt;/head&gt;   &lt;body&gt;     &lt;div class="container"&gt;       &lt;nav class="navbar" navbar-dark bg-success&gt;         &lt;a class="navbar-brand"&gt;博客系统&lt;/a&gt;         &lt;form class="form-inline"&gt;           &lt;input class="form-control" mr-sm-2 type="search" placeholder="Search" aria-label="Search"&gt;           &lt;button class="btn btn-outline-success my-2 my-sm-0" type="submit"&gt;Search&lt;/button&gt;         &lt;/form&gt;       &lt;/nav&gt;       &lt;div id="app"&gt;&lt;/div&gt;     &lt;/div&gt;     &lt;script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"&gt;&lt;/script&gt;     &lt;script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"&gt;&lt;/script&gt;     &lt;script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"&gt;&lt;/script&gt;   &lt;/body&gt; &lt;/html&gt;</code></pre> <p>APP.vue</p> <pre><code>&lt;template&gt;   &lt;div id="app"&gt;     &lt;router-view/&gt;   &lt;/div&gt; &lt;/template&gt;  &lt;script&gt; export default {   name: 'App', } &lt;/script&gt;  &lt;style&gt; #app {   font-family: 'Avenir', Helvetica, Arial, sans-serif;   -webkit-font-smoothing: antialiased;   -moz-osx-font-smoothing: grayscale;   text-align: center;   color: #2c3e50;   margin-top: 60px; } &lt;/style&gt;</code></pre> <p>src/components/Container.vue</p> <pre><code>&lt;template&gt;   &lt;div class="row"&gt;     &lt;!--左右两屏--&gt;     &lt;div class="col-md-4"&gt;       &lt;!--左边是编辑部分--&gt;       &lt;div class="form-group"&gt;         &lt;input type="hidden" v-model="url"&gt;       &lt;/div&gt;       &lt;div class="form-group"&gt;         &lt;input type="text" v-model="title"  class="form-control" placeholder="标题"&gt;        &lt;/div&gt;       &lt;div class="form-group"&gt;         &lt;textarea class="form-control" v-model="content" placeholder="内容"&gt;&lt;/textarea&gt;       &lt;/div&gt;       &lt;div class="form-group"&gt;         &lt;button class="btn btn-block btn-success" @click="saveBlog()"&gt;保存&lt;/button&gt;       &lt;/div&gt;       &lt;div class="form-group"&gt;                &lt;/div&gt;     &lt;/div&gt;      &lt;div class="col-md-8"&gt;       &lt;!--右边是博客内容表格部分--&gt;       &lt;table class="table table-bordered table-hover"&gt;         &lt;thead&gt;           &lt;th class="text-center"&gt;标题&lt;/th&gt;           &lt;th class="text-center"&gt;内容&lt;/th&gt;           &lt;th class="text-center"&gt;编辑&lt;/th&gt;           &lt;th class="text-center"&gt;删除&lt;/th&gt;         &lt;/thead&gt;         &lt;tbody&gt;           &lt;tr v-for="blog in blogs" :key="blog.url"&gt;             &lt;td&gt;{<!-- -->{blog.title}}&lt;/td&gt;             &lt;td&gt;{<!-- -->{blog.content}}&lt;/td&gt;             &lt;td&gt;               &lt;button class="btn btn-success"  @click="editBlog(blog)"&gt;                 &lt;i class="fa fa-edit"&gt;&lt;/i&gt;               &lt;/button&gt;             &lt;/td&gt;             &lt;td&gt;               &lt;button class="btn btn-success"  @click="deleteBlog(blog)"&gt;                 &lt;i class="fa fa-trash"&gt;&lt;/i&gt;               &lt;/button&gt;             &lt;/td&gt;           &lt;/tr&gt;         &lt;/tbody&gt;       &lt;/table&gt;     &lt;/div&gt;   &lt;/div&gt; &lt;/template&gt;   &lt;script&gt; //添加axios.http请求组件 import axios from 'axios' export default {   name: 'Container',   props:{    },   data(){     return{       base_url:"http://127.0.0.1:8000/api/blog/",       blogs:null,       url:"",       title:"",       content:"",     }   },   methods:{     getAll(){         axios.get(this.base_url)         .then(res=&gt;{             this.blogs = res.data;  //获取列表数据             this.url="";             this.title="";             this.content="";         });      },     saveBlog(){         //新增         if(this.url==""){             axios.post(this.base_url,{title:this.title, content:this.content})             .then(()=&gt;{                 this.getAll();             })         }         //修改         else{             axios.put(this.url,{title:this.title, content:this.content})             .then(()=&gt;{                 this.getAll();             })         }     },     editBlog(blog){         this.url= blog.url;         this.title=blog.title;         this.content=blog.content;     },     deleteBlog(blog){         axios.delete(blog.url)         .then(()=&gt;{             this.getAll();         });     },   },   mounted(){       this.getAll();   } } &lt;/script&gt;  &lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt; &lt;style scoped&gt;  &lt;/style&gt;</code></pre> <p>router/index.js</p> <pre><code>import Vue from 'vue' import Router from 'vue-router' import Container from '@/components/Container'  Vue.use(Router)  export default new Router({   routes: [     {       path: '/',       name: 'Container',       component: Container     }   ] })</code></pre> </div> 			                <div class="clearfix"></div>
                <div class="col-md-12 mt-5">
                                        <p>上一个：<a href="/news/article-34999.htm">我被猫咬了,没去***,会不会死已经十天（被猫咬了没打疫苗,过多久就会没事了呢?）</a></p>
                                        <p>下一个：<a href="/news/article-35635.htm">宠物领养中心领养要钱吗多少钱一次（宠物领养中心领养要钱吗多少钱一次呢）</a></p>
                                    </div>
                                </div>
                <div class="col-md-3">
                    <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">热门文章</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2"><a href="/news/article-22689.htm" title="面向对象的7种设计原则(2)-接口隔离原则">面向对象的7种设计原则(2)-接口隔离原则</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-12-13-clash-verge-rev-node-share.htm" title="「12月13日」最高速度22.9M/S，2024年Clsah Verge每天更新免费节点订阅链接">「12月13日」最高速度22.9M/S，2024年Clsah Verge每天更新免费节点订阅链接</a></li>
                        <li class="py-2"><a href="/news/article-21317.htm" title="Blazor 发布WebAssembly使用Brotli 压缩提升初次加载速度">Blazor 发布WebAssembly使用Brotli 压缩提升初次加载速度</a></li>
                        <li class="py-2"><a href="/news/article-25461.htm" title="动物疫苗的作用有哪些呢视频播放（动物疫苗的作用有哪些呢视频播放大全）">动物疫苗的作用有哪些呢视频播放（动物疫苗的作用有哪些呢视频播放大全）</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-11-3-clash-verge-rev-github.htm" title="「11月3日」最高速度20.1M/S，2024年Clsah Verge每天更新免费节点订阅链接">「11月3日」最高速度20.1M/S，2024年Clsah Verge每天更新免费节点订阅链接</a></li>
                        <li class="py-2"><a href="/news/article-25462.htm" title="1970年农历四月二十四是几号生日（1970年农历四月二十七是几号）">1970年农历四月二十四是几号生日（1970年农历四月二十七是几号）</a></li>
                        <li class="py-2"><a href="/news/article-24288.htm" title="长沙宠物猫领养中心在哪里 长沙宠物猫领养中心在哪里啊">长沙宠物猫领养中心在哪里 长沙宠物猫领养中心在哪里啊</a></li>
                        <li class="py-2"><a href="/news/article-27327.htm" title="动物接种疫苗的简报怎么写好呢（动物疫苗接种技术）">动物接种疫苗的简报怎么写好呢（动物疫苗接种技术）</a></li>
                        <li class="py-2"><a href="/free-nodes/2024-10-9-latest-clash-verge-rev-node.htm" title="「10月9日」最高速度19.2M/S，2024年Clsah Verge每天更新免费节点订阅链接">「10月9日」最高速度19.2M/S，2024年Clsah Verge每天更新免费节点订阅链接</a></li>
                        <li class="py-2"><a href="/news/article-30602.htm" title="动物疫苗生产厂家排名榜前十名有哪些 动物疫苗生产厂家排名榜前十名有哪些品种">动物疫苗生产厂家排名榜前十名有哪些 动物疫苗生产厂家排名榜前十名有哪些品种</a></li>
                    </ul>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">归纳</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">18</span> <a href="/date/2025-01/" title="2025-01 归档">2025-01</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">93</span> <a href="/date/2024-12/" title="2024-12 归档">2024-12</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">34</span> <a href="/date/2024-11/" title="2024-11 归档">2024-11</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">25</span> <a href="/date/2024-10/" title="2024-10 归档">2024-10</a></h4>
            </li>
                    </ul>
    </div>
</div>

                </div>
            </div>
        </div>
    </section>
    <footer>
    <section id="footer-Content">
        <div class="copyright">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="site-info text-center">
                    <p>
                        <a href="/">首页</a> | 
                        <a href="/free-node/">免费节点</a> | 
                        <a href="/news/">新闻资讯</a> |
                        <a href="/about-us.htm">关于我们</a> |
                        <a href="/disclaimer.htm">免责申明</a> |
                        <a href="/privacy.htm">隐私申明</a> |
                        <a href="/sitemap.xml">网站地图</a>
                    </p>
                            <a href="/">Clash Verge Rev节点订阅站</a> 版权所有
                            <br />
                            Powered by WordPress
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</footer>
<a href="#" class="back-to-top">
    <i class="lni lni-chevron-up"></i>
</a>
<div id="preloader">
    <div class="loader" id="loader-1"></div>
</div>
<script src="/assets/website/js/frontend/clashvergerev/vendor/modernizr-3.7.1.min.js"></script>
<script src="/assets/website/js/frontend/clashvergerev/vendor/jquery-3.5.1-min.js"></script>
<script src="/assets/website/js/frontend/clashvergerev/popper.min.js"></script>
<script src="/assets/website/js/frontend/clashvergerev/bootstrap-4.5.0.min.js"></script>
<script src="/assets/website/js/frontend/clashvergerev/owl.carousel.2.3.4.min.js"></script>
<script src="/assets/website/js/frontend/clashvergerev/nivo-lightbox.js"></script>
<script src="/assets/website/js/frontend/clashvergerev/jquery.magnific-popup.min.js"></script>
<script src="/assets/website/js/frontend/clashvergerev/form-validator.min.js"></script>
<script src="/assets/website/js/frontend/clashvergerev/contact-form-script.js"></script>
<script src="/assets/website/js/frontend/clashvergerev/main.js"></script>
<script src="https://www.freeclashnode.com/assets/js/frontend/invite-url.js"></script>
<script src="/assets/website/js/frontend/G.js"></script>
</body>

</html>